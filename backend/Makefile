# Makefile pour SPIGNOS

VENV=.venv/bin
MANAGE=python manage.py

run:
	@echo "ðŸš€ Lancement du serveur Django..."
	@$(VENV)/$(MANAGE) runserver

swagger-json:
	@echo "ðŸ“„ GÃ©nÃ©ration du schÃ©ma Swagger (JSON)..."
	@$(VENV)/$(MANAGE) spectacular --file schema.json

swagger-yaml:
	@echo "ðŸ“„ GÃ©nÃ©ration du schÃ©ma Swagger (YAML)..."
	@$(VENV)/$(MANAGE) spectacular --file schema.yaml

swagger: swagger-json swagger-yaml

test-llm:
	@echo "ðŸ§ª Test du modÃ¨le LLM local..."
	@$(VENV)/python scripts/test_llm.py

download-model:
	@echo "ðŸ“¥ TÃ©lÃ©chargement du modÃ¨le local..."
	@$(VENV)/python scripts/download_model.py

clean-pyc:
	@echo "ðŸ§¹ Suppression des fichiers .pyc et __pycache__..."
	find . -type d -name "__pycache__" -exec rm -r {} + ; find . -name "*.pyc" -delete
